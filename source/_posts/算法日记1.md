---
title: 算法日记-1 189.轮换数组
date: 2024-09-15 18:25:42
categories:
- LeetCode
- Array
- Medium
tag:
- LeetCode
- Array
- Medium
---

[LeetCode指路](https://leetcode.cn/problems/rotate-array/description/) 难度：中等

给定一个整数数组 `nums`，将数组中的元素向右轮转 `k` 个位置，其中 `k` 是非负数。

<!--more-->

### 题目描述

给定一个整数数组 `nums`，将数组中的元素向右轮转 `k` 个位置，其中 `k` 是非负数。

**示例 1:**

**输入:** nums = [1,2,3,4,5,6,7], k = 3  
**输出:** `[5,6,7,1,2,3,4]`  
**解释:**  
向右轮转 1 步: `[7,1,2,3,4,5,6]`  
向右轮转 2 步: `[6,7,1,2,3,4,5]`  
向右轮转 3 步: `[5,6,7,1,2,3,4]`

**示例 2:**

**输入**： nums = [-1,-100,3,99], k = 2  
**输出**： [3,99,-1,-100]  
**解释**:  
向右轮转 1 步: [99,-1,-100,3]  
向右轮转 2 步: [3,99,-1,-100]

### 题解

**关于特解和边界**

1.当nums.size() == 0 || k == 0时，直接返回

2.当 k > n时，实际上是轮转 k%n 位

3.当 x + k > n时，也是转到了(x + k)%n的位置

---

##### 使用额外数组

新建一个数组，遍历原数组，帮助遍历的数据在新建数组内找到正确的位置。

最后将新建数组的值拷贝到原数组

##### 环状替换

首先，当想到了要尽可能地减少空间开销时，会很自然地从创造一个临时变量开始。我们最早接触的类似操作两数交换，就已经告诉了我们必须要一个临时变量来保证不会有数据在操作中丢失。

好，现在已经有一个临时变量用来存储数据了，我们先从第一个数据开始吧。

```cpp
temp = nums[0];
std::swap(temp,nums[(0+k)%n])
```

现在，temp里面存储的是被覆盖的nums[k]，而nums[k]存储的是位于正确位置的nums[0]

下一步呢？下一步就是应该为储存在temp中的nums[k]找到它的家了。

很容易发现，这是个循环。那么什么时候完成一轮循环呢？当他重新回到nums[0]时

假设走了a圈，一共遍历了b个数据，那么可以得到**an=bk**

当第一次回到起点的时候，一定是第一次开始重复处理同一个位置的时候，因为这是循环的开始，也就是说，这时候，就应该改变操作的数据了。

那么这个an，就应该是n和k的最小公倍数，an = lcm(n,k)

那么我们遍历了多少个数据呢？**b=lcm(n,k)/k**

我们每次都将一个数据放到正确的位置，那么我们这个操作需要操作多少次呢？

**n/b = n*k/lcm(n,k) = gcd(n,k)** *须知gcd(n,k) *lcm(n,k) = nk*

```cpp
for（int i = 0;i < std::gcd(n,k);i++）{
    x = i;
    temp = nums[x];        //保存原始数据，否则会被覆盖

    for(int j = 0;j < lcm(n,k)/k;j++){
        std::swap(temp,nums[(x+k)%n]);
        x = x + k;
    }
}
```

第一个循环可以说，将数组分为了gcd(n,k)个集合，前gcd(n,k)个数据就是每个集合的开头。

轮换的操作只可能在集合中变换。*因为存在循环*

第二个循环则是在每个集合中的遍历操作。

##### 数组翻转

该方法基于以下事实：

当我们将数组向右移动k次时，最后的 k%n 位会移动到数组头部，其余的数据会向后移动 k%n 个位置。

以n = 7，k = 3举例

| 操作                | 结果            |
|:----------------- | ------------- |
| 原始数组              | 1 2 3 4 5 6 7 |
| 翻转所有元素            | 7 6 5 4 3 2 1 |
| 翻转[0,k%n -1]区间的元素 | 5 6 7 4 3 2 1 |
| 翻转[k%n,n]区间的元素    | 5 6 7 1 2 3 4 |
